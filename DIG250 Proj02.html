<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Color Pad</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/15.1.5/Tone.min.js"></script>
  <style>
    body {
      background: radial-gradient(circle at center, #0f2027, #203a43, #2c5364);
      color: white;
      font-family: 'Helvetica Neue', sans-serif;
      text-align: center;
      padding: 20px;
    }

    h1 {
      margin-bottom: 10px;
    }

    #grid {
      display: grid;
      grid-template-columns: repeat(3, 120px);
      grid-gap: 15px;
      justify-content: center;
      margin-top: 30px;
    }

    .pad {
      width: 120px;
      height: 120px;
      border-radius: 15px;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 1.1rem;
      font-weight: bold;
      color: white;
    }

    .pad:active {
      transform: scale(0.95);
      filter: brightness(1.4);
    }

    #controls {
      margin-top: 30px;
    }

    input[type="range"] {
      width: 200px;
    }
  </style>
</head>

<body>
  <h1>Color Pad</h1>
  <p>Click a pad to play and experiment with the modulation below!</p>

  <div id="grid">
    <button class="pad" style="background:#e74c3c" data-note="C4">Red</button>
    <button class="pad" style="background:#f1c40f" data-note="E4">Yellow</button>
    <button class="pad" style="background:#2ecc71" data-note="G4">Green</button>
    <button class="pad" style="background:#3498db" data-note="B4">Blue</button>
    <button class="pad" style="background:#9b59b6" data-note="D5">Purple</button>
    <button class="pad" style="background:#1abc9c" data-note="A4">Cyan</button>
    <button class="pad" style="background:#e67e22" data-note="F4">Orange</button>
    <button class="pad" style="background:#ecf0f1; color:black;" data-note="C5">White</button>
    <button class="pad" style="background:#34495e" data-note="G3">Dark</button>
  </div>

  <div id="controls">
    <p>LFO Speed: <input type="range" id="lfoSpeed" min="0.1" max="10" step="0.1" value="2"></p>
    <p>LFO Depth: <input type="range" id="lfoDepth" min="0" max="50" step="1" value="10"></p>
  </div>

  <script>
    // Create a global reverb and connect it to the destination
    const reverb = new Tone.Reverb({ decay: 3, wet: 0.4 }).toDestination();

    // Create a filter that will be modulated by an LFO
    const filter = new Tone.Filter(800, "lowpass").connect(reverb);

    // LFO to modulate the filter cutoff
    const lfo = new Tone.LFO(2, 200, 2000).start();
    lfo.connect(filter.frequency);

    // Pad sounds (using different synth types)
    const synths = [
      new Tone.FMSynth().connect(filter),
      new Tone.AMSynth().connect(filter),
      new Tone.Synth().connect(filter),
      new Tone.DuoSynth().connect(filter),
      new Tone.MetalSynth().connect(filter),
      new Tone.MembraneSynth().connect(filter),
      new Tone.PluckSynth().connect(filter),
      new Tone.MonoSynth().connect(filter),
      new Tone.Synth().connect(filter),
    ];

    const pads = document.querySelectorAll(".pad");

    pads.forEach((pad, index) => {
      pad.addEventListener("click", async () => {
        await Tone.start();
        const note = pad.getAttribute("data-note");
        synths[index].triggerAttackRelease(note, "8n");
        pad.style.transform = "scale(0.9)";
        setTimeout(() => pad.style.transform = "scale(1)", 150);
      });
    });

    // LFO control sliders
    const lfoSpeed = document.getElementById("lfoSpeed");
    const lfoDepth = document.getElementById("lfoDepth");

    lfoSpeed.addEventListener("input", () => lfo.frequency.value = lfoSpeed.value);
    lfoDepth.addEventListener("input", () => lfo.max = 200 + parseFloat(lfoDepth.value) * 30);
  </script>
</body>
</html>
